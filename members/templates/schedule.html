<html>
<head>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
  
  <style>
  .outer {margin-top: 10px;}
  .outer > div {
          	display: inline-block;
            padding: 10px;
            margin-right: 10px;
            vertical-align: top;
          }

  </style>
</head>

<body class="p-3">
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
	  
      <div class="modal-body">
        <input type="text" class="form-control">
      </div>
	  
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
        <button type="button" class="btn btn-primary" onclick="edit_go();">변경</button>
        <button type="button" class="btn btn-danger" onclick="delete_go();">삭제</button>
	  </div>
    </div>
  </div>
</div>


  <script>
  
  var obj_sample;
  
 function hello(){
	$($(".card-body")[$("#my_date").val()-1]).append("<p class='card-text' onclick='edit(this);'>"+$("#my_input").val()+"</p>")
}

 function edit(obj){
	obj_sample=obj;
	$("#exampleModalLabel").html($(obj).parent().prev().html())
	$("#exampleModal input").val($(obj).html())
	$("#exampleModal").modal("show")
}

function edit_go(){
	$(obj_sample).html($("#exampleModal input").val());
	$("#exampleModal").modal("hide");
}

function delete_go(){
	$(obj_sample).remove();
	$("#exampleModal").modal("hide");
}

  </script>
  
 <form class="row g-3">
	<div class="col-md-2">
		<input type="text" id="my_date" class="form-control" placeholder="날짜">
	</div>
	<div class="col-md-2">
		<input type="text" id="my_input" class="form-control" placeholder="할일">
	</div>
	<div class="col-md-2">
	<button type="button" class="btn btn-primary" onclick="hello();">할일 추가</button>
	</div>
</form>


<div class="outer">
	{% for i in loop %}
		<div class="card text-dark bg-light mb-3" style="max-width: 18rem; min-width: 14rem">
			<div class="card-header">{{i}}일</div>
				<div class="card-body">
					<p class="card-text"></p>
				</div>
		</div>
	{% endfor %}

</div>
</body></html>

